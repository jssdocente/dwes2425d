# PHP: M煤ltiples versiones en un mismo PC

En numerosas ocasiones, necesitamos tener varias versiones de PHP en nuestro PC. Por ejemplo, si estamos desarrollando una aplicaci贸n que debe ser compatible con PHP 5.6 y PHP 7.0, necesitaremos tener ambas versiones instaladas en nuestro PC.

En este tutorial, vamos a ver c贸mo instalar varias versiones de PHP en un mismo PC.

## Instalar en Windows

En Windows, podemos instalar varias versiones de PHP de forma sencilla. Para ello, podemos descargar los binarios de PHP desde la [p谩gina oficial de PHP](https://windows.php.net/download/). En esta p谩gina, podemos encontrar los binarios de PHP para Windows.

>  Siempre es aconsejable tener una ubicaci贸n en mi PC dentro de la `home` del usuario, para evitar errores de permisos en la ejecuci贸n de PHP.<br>
> Para esta gu铆a vamos a crear una carpeta, `tools`, en la la home del usuario, por ejemplo, `C:\Users\miusuario\tools\php`.

**Instalar PHP 7.4**

Para instalar PHP 7.4 en Windows, podemos seguir los siguientes pasos:

1. Descargar los binarios de PHP 7.4 desde la [p谩gina oficial de PHP](https://windows.php.net/download/).
2. Descomprimir los binarios en una carpeta, por ejemplo, `...\tools\php\7.4`.

**Instalar PHP 8.1**

Para instalar PHP 8.1 en Windows, podemos seguir los siguientes pasos:

1. Descargar los binarios de PHP 8.1 desde la [p谩gina oficial de PHP](https://windows.php.net/download/).
2. Descomprimir los binarios en una carpeta, por ejemplo, `...\tools\php\8.1`.

### Configurar las variables de entorno

Para poder ejecutar PHP desde la l铆nea de comandos, necesitamos configurar las variables de entorno. Para ello, podemos seguir los siguientes pasos:

1. Abrir el editor de variables de entorno.
2. En las variables de usuario, a帽adir la variable `PHP_HOME` con el valor de la ruta de la carpeta de PHP, por ejemplo, `C:\Users\miusuario\tools\php\7.4`.
3. A帽adir a la variable `PATH` la ruta, con el valor `%PHP_HOME%`.

Ahora, para que la configuraci贸n sea efectiva, debemos cerrar y abrir la consola de comandos. Si no funciona, podemos cerrar la sesi贸n del usuario.

**Probar la configuraci贸n**

Ahora podemos ejecutar PHP desde la l铆nea de comandos. Para ello, podemos abrir una consola de comandos y ejecutar el siguiente comando:

```bash
php --version
```

Y debe mostrar la versi贸n php 7.4 (en este caso)

**Cambiar de versi贸n**

Si queremos cambiar de versi贸n, podemos cambiar la variable `PHP_HOME` a la ruta de la carpeta de la versi贸n que queremos usar. Por ejemplo, si queremos usar PHP 8.1, podemos cambiar la variable `PHP_HOME` a la ruta de la carpeta de PHP 8.1, por ejemplo, `C:\Users\miusuario\tools\php\8.1`.

Podemos probar que el cambio ha funcionando, simplemente cerrando la consola de comandos y abri茅ndola de nuevo.

```bash
php --version
```

Y debe mostrar la versi贸n php 8.1 (en este caso)

### Automatizar el cambio de versi贸n

Para cambiar de versi贸n de PHP de forma autom谩tica, vamos a crear una carpeta `default` y esta apuntar谩, mediante un enlace simb贸lico, a la versi贸n de PHP que queremos usar por defecto.

Por ejemplo, si queremos que la versi贸n por defecto sea PHP 7.4, podemos crear un enlace simb贸lico de la siguiente forma:

```bash
cd %userprofile%\tools\php
rm default
mklink /D %userprofile%\tools\php\default %userprofile%\tools\php\7.4
```

Y guardar el script en un archivo `.bat` con el nombre php74.bat, dentro de la carpeta `tools`.

Para la versi贸n, PHP 8.1, podemos crear otro script con el nombre php81.bat, con el siguiente contenido:

```bash
cd %userprofile%\tools\php
rm default
mklink /D %userprofile%\tools\php\default %userprofile%\tools\php\8.1
```

### Cambiar de versi贸n de PHP

Para cambiar de versi贸n de PHP, simplemente debemos ejecutar el script correspondiente, a la versi贸n que queramos usar. Por ejemplo, si queremos usar PHP 8.1, podemos ejecutar el script `php81.bat`.

>  IMPORTANTE:<br>
> Se debe ejecutar el script en la consola de comandos, con permisos de administrador.
